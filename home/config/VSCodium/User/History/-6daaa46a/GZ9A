# xrandr-setup - XRandR configuration tool
# See LICENSE file for copyright and license details

PREFIX := ${HOME}/.local/bin/dwm
CC     := cc
CFLAGS := -Wall -Wextra -Werror -Wno-deprecated-declarations -Os
LFLAGS := -lX11 -lXrandr

all: xrandr-setup

xrandr-setup.o:
	$(CC) -o $@ main.c ${CFLAGS} ${LFLAGS}

xrandr-setup: xrandr-setup.o
	$(CC) -o $@ xrandr-setup.o ${LFLAGS}

clean:
	@echo "cleaning xrandr-setup"
	rm -f xrandr-setup
	rm -f xrandr-setup.o

install: xrandr-setup
	@echo "installing xrandr-setup"
	mkdir -p $(PREFIX)
	cp xrandr-setup $(PREFIX)/

uninstall:
	@echo "uninstalling xrandr-setup"
	rm -f $(PREFIX)/xrandr-setup

.PHONY: all clean install uninstall