#!/bin/sh
#
# Script that outputs battery percentage and charging status as an emoji.
#
# Author: Dimitris Gerasimou <https://github.com/dimgerasimou>

capacity=$(cat /sys/class/power_supply/BAT1/capacity)
status=$(cat /sys/class/power_supply/BAT1/status)

# if [[ "$stat" = "Charging" ]]; then
# 	icon="ðŸ”Œ"
# else
# 	icon="ðŸ”‹"
# fi

if [ $status != "Charging" ]; then
	case 1 in
		$(( $capacity <= 10 ))) status="ï•¹" ;;
		$(( $capacity <= 20 ))) status="ï•º" ;;
		$(( $capacity <= 30 ))) status="ï•»" ;;
		$(( $capacity <= 40 ))) status="ï•¼" ;;
		$(( $capacity <= 50 ))) status="ï•½" ;;
		$(( $capacity <= 60 ))) status="ï•¾" ;;
		$(( $capacity <= 70 ))) status="ï•¿" ;;
		$(( $capacity <= 80 ))) status="ï–€" ;;
		$(( $capacity <= 90 ))) status="ï–" ;;
		 				     *) status="ï•¸" ;;
	esac
elif [ $status = "C" ]; then
	case 1 in
		$(( $capacity <= 10 ))) status="ï–…" ;;
		$(( $capacity <= 20 ))) status="ï–…" ;;
		$(( $capacity <= 30 ))) status="ï–†" ;;
		$(( $capacity <= 40 ))) status="ï–‡" ;;
		$(( $capacity <= 50 ))) status="ï–ˆ" ;;
		$(( $capacity <= 60 ))) status="ï–ˆ" ;;
		$(( $capacity <= 70 ))) status="ï–‰" ;;
		$(( $capacity <= 80 ))) status="ï–‰" ;;
		$(( $capacity <= 90 ))) status="ï–Š" ;;
							 *)	status="ï–„" ;;
	esac
fi

echo "$status $capacity%"
