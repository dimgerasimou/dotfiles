#!/bin/sh
#
# Prints the current volume or it's mute value
#
# Author: Dimitris Gerasimou <https://github.com/dimgerasimou>

if [ $(pamixer --source 3 --get-mute) = true ]; then
	micstat=""
else
	micstat=" 🎙"
fi

if [ $(pamixer --get-mute) = true ]; then
	echo "🔇$micstat"
	exit
fi

vol="$(pamixer --get-volume)"

if [[ "$vol" = 0 || "$vol" = "" ]]; then
	echo "🔇$micstat"
	exit
fi

if [ "$vol" -gt "70" ]; then
	icon="🔊"
elif [ "$vol" -lt "30" ]; then
	icon="🔈"
else
	icon="🔉"
fi

echo "$icon $vol%$micstat"
