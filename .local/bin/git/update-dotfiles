#!/bin/sh

COMMITMESSAGE="Automated script. Dotfile general update"
CMD="/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME"

if [[ "$1" == "-m" ]] || [[ "$1" == "--message" ]]; then
	COMMITMESSAGE="$2"
fi

# Staging files to git

# Home files:
homercs=".zshrc .vimrc .gitconfig .bashrc"
for file in $homercs; do
	$CMD add $HOME/$file
done

# local bin files:
lcbin="dwm git"
for file in $lcbin; do
	$CMD add $HOME/.local/bin/$file
done

# config files:
config="dwmblocks picom alacritty nvim"
for file in $config; do
	$CMD add $HOME/.config/$file
done

$CMD commit -m "$COMMITMESSAGE"

$CMD push
