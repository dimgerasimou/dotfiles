#!/bin/sh
#
# Simple script that returns ethernet and wifi connection status. ASCII
#
# Author: Dimitris Gerasimou <dimgerasimou@gmail.com> http://github.com/dimgerasimou
#

wifistatus=$(cat /sys/class/net/w*/operstate)
ethstatus=$(cat /sys/class/net/e*/operstate)
wifioutput="error"
ethoutput="error"

if   [ "$wifistatus" = "up" ]; then
    # For SSID
    #wifioutput=$(nmcli device wifi show | grep SSID | cut -d " " -f2)
    # For signal stregnth
    wifioutput="$(nmcli -f ACTIVE,SIGNAL device wifi | grep yes | sed 's/[^0-9]*//g')%"
elif [ "$wifistatus" = "down" ]; then
    wifioutput="no con"
fi

if   [ "$ethstatus" = "up" ]; then
    ethoutput="on"
elif [ "$ethstatus" = "down" ]; then
    ethoutput="off"
fi

printf "WiFi:%s Eth:%s\n" "$wifioutput" "$ethoutput"